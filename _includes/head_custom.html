<!-- MathJax 配置 - 支持 LaTeX 数学公式渲染 -->
<script>
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true
    },
    options: {
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  };
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<!-- LaTeX 代码块样式 -->
<style>
  /* LaTeX 代码块容器样式 */
  code.latex-code-block {
    position: relative;
    display: block;
    padding: 12px 16px;
    margin: 8px 0;
    background-color: #f6f8fa;
    border: 1px solid #e1e4e8;
    border-radius: 6px;
    font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 14px;
    line-height: 1.5;
    overflow: visible;
    cursor: text;
    user-select: text;
  }

  /* 隐藏原始代码文本 */
  code.latex-code-block .latex-source {
    position: absolute;
    opacity: 0;
    pointer-events: none;
    width: 1px;
    height: 1px;
    overflow: hidden;
  }

  /* 显示渲染后的公式 */
  code.latex-code-block .latex-rendered {
    display: block;
    text-align: center;
    padding: 8px 0;
    min-height: 1.5em;
  }

  /* 复制按钮样式 */
  code.latex-code-block .copy-button {
    position: absolute;
    top: 8px;
    right: 8px;
    padding: 4px 8px;
    background-color: #0366d6;
    color: white;
    border: none;
    border-radius: 4px;
    font-size: 12px;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.2s;
    z-index: 10;
  }

  code.latex-code-block:hover .copy-button {
    opacity: 1;
  }

  code.latex-code-block .copy-button:hover {
    background-color: #0256cc;
  }

  code.latex-code-block .copy-button:active {
    background-color: #014a9f;
  }

  code.latex-code-block .copy-button.copied {
    background-color: #28a745;
  }
</style>

